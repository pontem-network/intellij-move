FILE
  MvModuleSpecImpl(MODULE_SPEC)
    PsiElement(spec)('spec')
    PsiWhiteSpace(' ')
    MvFQModuleRefImpl(FQ_MODULE_REF)
      MvAddressRefImpl(ADDRESS_REF)
        MvNamedAddressImpl(NAMED_ADDRESS)
          PsiElement(IDENTIFIER)('sender')
      PsiElement(::)('::')
      PsiElement(IDENTIFIER)('my_module')
    PsiWhiteSpace(' ')
    MvModuleSpecBlockImpl(MODULE_SPEC_BLOCK)
      PsiElement({)('{')
      PsiWhiteSpace('\n    ')
      MvItemSpecImpl(ITEM_SPEC)
        PsiElement(spec)('spec')
        PsiWhiteSpace(' ')
        MvItemSpecRefImpl(ITEM_SPEC_REF)
          PsiElement(IDENTIFIER)('create_address')
        PsiWhiteSpace(' ')
        MvSpecCodeBlockImpl(SPEC_CODE_BLOCK)
          PsiElement({)('{')
          PsiWhiteSpace('\n        ')
          MvPragmaSpecStmtImpl(PRAGMA_SPEC_STMT)
            PsiElement(pragma_kw)('pragma')
            PsiWhiteSpace(' ')
            MvPragmaAttributeImpl(PRAGMA_ATTRIBUTE)
              PsiElement(IDENTIFIER)('opaque')
            PsiElement(;)(';')
          PsiWhiteSpace('\n    ')
          PsiElement(})('}')
      PsiWhiteSpace('\n\n    ')
      MvSpecFunctionImpl(SPEC_FUNCTION)
        PsiElement(spec)('spec')
        PsiWhiteSpace(' ')
        PsiElement(fun)('fun')
        PsiWhiteSpace(' ')
        PsiElement(IDENTIFIER)('spec_now_microseconds')
        MvFunctionParameterListImpl(FUNCTION_PARAMETER_LIST)
          PsiElement(()('(')
          PsiElement())(')')
        MvReturnTypeImpl(RETURN_TYPE)
          PsiElement(:)(':')
          PsiWhiteSpace(' ')
          MvPathTypeImpl(PATH_TYPE)
            MvPathImpl(PATH)
              PsiElement(IDENTIFIER)('u64')
        PsiWhiteSpace(' ')
        MvSpecCodeBlockImpl(SPEC_CODE_BLOCK)
          PsiElement({)('{')
          PsiWhiteSpace('\n        ')
          MvDotExprImpl(DOT_EXPR)
            MvCallExprImpl(CALL_EXPR)
              MvPathImpl(PATH)
                PsiElement(IDENTIFIER)('global')
                MvTypeArgumentListImpl(TYPE_ARGUMENT_LIST)
                  PsiElement(<)('<')
                  MvTypeArgumentImpl(TYPE_ARGUMENT)
                    MvPathTypeImpl(PATH_TYPE)
                      MvPathImpl(PATH)
                        PsiElement(IDENTIFIER)('CurrentTimeMicroseconds')
                  PsiElement(>)('>')
              MvValueArgumentListImpl(VALUE_ARGUMENT_LIST)
                PsiElement(()('(')
                MvValueArgumentImpl(VALUE_ARGUMENT)
                  MvLitExprImpl(LIT_EXPR)
                    MvAddressLitImpl(ADDRESS_LIT)
                      PsiElement(@)('@')
                      MvAddressRefImpl(ADDRESS_REF)
                        MvNamedAddressImpl(NAMED_ADDRESS)
                          PsiElement(IDENTIFIER)('aptos_framework')
                PsiElement())(')')
            PsiElement(.)('.')
            MvStructDotFieldImpl(STRUCT_DOT_FIELD)
              PsiElement(IDENTIFIER)('microseconds')
          PsiWhiteSpace('\n    ')
          PsiElement(})('}')
      PsiWhiteSpace('\n\n    ')
      PsiComment(EOL_DOC_COMMENT)('/// Helper schema to specify that a function aborts if not in genesis.')
      PsiWhiteSpace('\n    ')
      MvSchemaImpl(SCHEMA)
        PsiElement(spec)('spec')
        PsiWhiteSpace(' ')
        PsiElement(schema_kw)('schema')
        PsiWhiteSpace(' ')
        PsiElement(IDENTIFIER)('AbortsIfNotGenesis')
        PsiWhiteSpace(' ')
        MvSpecCodeBlockImpl(SPEC_CODE_BLOCK)
          PsiElement({)('{')
          PsiWhiteSpace('\n        ')
          MvSpecExprStmtImpl(SPEC_EXPR_STMT)
            MvAbortsIfSpecExprImpl(ABORTS_IF_SPEC_EXPR)
              PsiElement(aborts_if_kw)('aborts_if')
              PsiWhiteSpace(' ')
              MvBangExprImpl(BANG_EXPR)
                PsiElement(!)('!')
                MvCallExprImpl(CALL_EXPR)
                  MvPathImpl(PATH)
                    PsiElement(IDENTIFIER)('is_genesis')
                  MvValueArgumentListImpl(VALUE_ARGUMENT_LIST)
                    PsiElement(()('(')
                    PsiElement())(')')
              PsiWhiteSpace(' ')
              MvAbortsIfWithImpl(ABORTS_IF_WITH)
                PsiElement(with_kw)('with')
                PsiWhiteSpace(' ')
                MvRefExprImpl(REF_EXPR)
                  MvPathImpl(PATH)
                    MvModuleRefImpl(MODULE_REF)
                      PsiElement(IDENTIFIER)('error')
                    PsiElement(::)('::')
                    PsiElement(IDENTIFIER)('INVALID_STATE')
            PsiElement(;)(';')
          PsiWhiteSpace('\n    ')
          PsiElement(})('}')
      PsiWhiteSpace('\n\n    ')
      MvItemSpecImpl(ITEM_SPEC)
        PsiElement(spec)('spec')
        PsiWhiteSpace(' ')
        MvItemSpecRefImpl(ITEM_SPEC_REF)
          PsiElement(IDENTIFIER)('write_to_event_store')
        MvItemSpecSignatureImpl(ITEM_SPEC_SIGNATURE)
          MvItemSpecTypeParameterListImpl(ITEM_SPEC_TYPE_PARAMETER_LIST)
            PsiElement(<)('<')
            MvItemSpecTypeParameterImpl(ITEM_SPEC_TYPE_PARAMETER)
              PsiElement(IDENTIFIER)('T')
              MvTypeParamBoundImpl(TYPE_PARAM_BOUND)
                PsiElement(:)(':')
                PsiWhiteSpace(' ')
                MvAbilityImpl(ABILITY)
                  PsiElement(IDENTIFIER)('drop')
                PsiWhiteSpace(' ')
                PsiElement(+)('+')
                PsiWhiteSpace(' ')
                MvAbilityImpl(ABILITY)
                  PsiElement(IDENTIFIER)('store')
            PsiElement(>)('>')
          MvItemSpecFunctionParameterListImpl(ITEM_SPEC_FUNCTION_PARAMETER_LIST)
            PsiElement(()('(')
            PsiElement())(')')
        PsiWhiteSpace(' ')
        MvSpecCodeBlockImpl(SPEC_CODE_BLOCK)
          PsiElement({)('{')
          PsiWhiteSpace('\n    ')
          PsiElement(})('}')
      PsiWhiteSpace('\n')
      PsiElement(})('}')